<!-- Material Icons Font -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"/>

<!-- Sidebar Navigation -->
<nav class="sidebar">
  <!-- Logo Section -->
  <div class="logo">
    <img src="../../../../amex-logo.png" alt="American Express" class="logo-image">
    <h3 style="margin-right: 2.5rem; margin-top: -1.5rem;">Finance Portal</h3>
  </div>

  <!-- Main Navigation List -->
   <!-- Main Navigation List -->
   <ul class="nav-list">
    <!-- Iterate through main tabs -->
    <li class="nav-item" *ngFor="let tab of tabs">
      <!-- Main Tab Link -->
      <a (click)="setActiveTab(tab)" 
         class="nav-link" 
         [ngClass]="{ 
           'active': tab.isExpanded || tab.isActive, 
           'current-route': tab.isActive 
         }">
        <span class="material-icons icon">{{ tab.iconType }}</span>
        <span>{{ tab.text }}</span>
      </a>
      
      <!-- First Level Sub-Navigation -->
      <ul class="sub-nav" *ngIf="tab.subTabs && tab.isExpanded">
        <li *ngFor="let subTab of tab.subTabs">
          <!-- Sub-Tab Link -->
          <a (click)="setActiveSubTab(subTab)" 
             class="sub-nav-link"
             [ngClass]="{ 
               'active': subTab.isExpanded, 
               'current-route': subTab.isActive 
             }">
            <span class="material-icons icon">{{ subTab.iconType }}</span>
            <span>{{ subTab.text }}</span>
          </a>
          
          <!-- Second Level Sub-Navigation -->
          <ul class="sub-nav" *ngIf="subTab.subTabs && subTab.isExpanded">
            <li *ngFor="let subSubTab of subTab.subTabs">
              <!-- Sub-Sub-Tab Link -->
              <a (click)="navigateToSubSubTab(subSubTab)" 
                 class="sub-nav-link"
                 [ngClass]="{ 'current-route': subSubTab.isActive }">
                <span class="material-icons icon">{{ subSubTab.iconType }}</span>
                <span>{{ subSubTab.text }}</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <!-- User Profile Section -->
  <div class="user-profile">
    <div class="profile-info">
      <img [src]="profileImageUrl" alt="Profile" class="profile-image">
      <div class="profile-text">
        <span class="profile-name">John Doe</span>
        <span class="profile-email">john&#64;amex.com</span>
      </div>
    </div>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>
</nav>